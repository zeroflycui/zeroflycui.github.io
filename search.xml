<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>爬取淘宝商品名称和价格</title>
      <link href="/a4e5e07c.html"/>
      <url>/a4e5e07c.html</url>
      
        <content type="html"><![CDATA[<hr><p>在B站上观看北京理工大学的爬虫慕课，在爬取淘宝商品价格和名称时出现了只出表头信息的结果。</p><a id="more"></a><p><img src="/a4e5e07c/p1.png" alt></p><p>经过在视频下方评论区的方法发现依然有错，最后发现是自己的拼写错误:joy:</p><p>发话不多说直接上教程：（<strong>我使用的是chrome浏览器</strong>）</p><p>在淘宝页面右键，点击检查：</p><img src="/a4e5e07c/p2.jpg" style="zoom:50%;"><p>然后在源代码区进行以下步骤：</p><ul><li><p>1、点击<code>Network</code></p></li><li><p>2、刷新页面，点击<code>Name</code>中的第一个<code>search?</code></p></li><li><p>3、在<code>Headers</code>中复制<code>cookie和user-agent</code>内容</p><p> <img src="/a4e5e07c/p3.jpg" alt></p></li></ul><p><strong>把复制的内容放到如下位置：</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTML</span><span class="params">(url)</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(<span class="string">'解析开始'</span>)</span><br><span class="line">        headers = &#123;</span><br><span class="line">        <span class="string">'user-agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36'</span>,</span><br><span class="line">        <span class="string">'cookie'</span>: <span class="string">'miid=1204848422178730713; thw=cn; cna=/FjUFFH98VYCAbfHca7IzgoX; tracknick=%5Cu51B0%5Cu6CB3%5Cu4E16%5Cu7EAA%5Cu98DE; tg=0; hng=CN%7Czh-CN%7CCNY%7C156; enc=S9dNZWnBqTugKoqk7f9MpczA8QNKFdbWP8Dab4FEeTI43rFE%2B%2FrwSE7PnLJF%2BRA5yy70RD7m9rnCJyj72bByLg%3D%3D; t=23bd277878acd720dad699e1cc1f655d; cookie2=1266fc62e2cc3c4136c7085328db7985; v=0; _tb_token_=3fe6ee4e766b8; alitrackid=www.taobao.com; lastalitrackid=www.taobao.com; _samesite_flag_=true; sgcookie=EvIOOHQLzH3Oo804wQlio; unb=2278212962; uc3=lg2=VFC%2FuZ9ayeYq2g%3D%3D&amp;nk2=0ryj1fYS8gv0fQ%3D%3D&amp;vt3=F8dBxdAUzLP9Oq23c0M%3D&amp;id2=UUpmlOw4s1nHfg%3D%3D; csg=f123a494; lgc=%5Cu51B0%5Cu6CB3%5Cu4E16%5Cu7EAA%5Cu98DE; cookie17=UUpmlOw4s1nHfg%3D%3D; dnk=%5Cu51B0%5Cu6CB3%5Cu4E16%5Cu7EAA%5Cu98DE; skt=a5e20976396f587e; existShop=MTU4NjA4MzcyMA%3D%3D; uc4=id4=0%40U2gsGA%2BPaSbBR0Lnefhgm24jPZLA&amp;nk4=0%400A28Ox7kSTkcIvypO6o%2FqsLX5wQe; _cc_=VT5L2FSpdA%3D%3D; _l_g_=Ug%3D%3D; sg=%E9%A3%9E2f; _nk_=%5Cu51B0%5Cu6CB3%5Cu4E16%5Cu7EAA%5Cu98DE; cookie1=VAn7B4bWBvYsc6mrUjgaw%2F%2F8dWi4qfHRI6oPI3CZaYI%3D; tfstk=c47CBgD9vvDCt6DJ59NwYM0dAv8RZXe6sk9dOGUC18n-cLCCix02nXEhqA09DC1..; mt=ci=3_1; JSESSIONID=E9C7BE989C9A4781DC9BDF55EE086724; l=dBLuPSIcqWzW1J7tBOCgqDBHHA7TYIRAgulLJpFvi_5Iw6Y1A2QOo1N4MFv6cjWft28B4z6vzNe9-etlsn4pJA--g3fydxDc.; isg=BNDQjY51utpNoGWOeaq5eOihoR4imbTj3pjtcMqhxyv-BXCvcqgLcyd_3c3l1Wy7; uc1=cookie16=U%2BGCWk%2F74Mx5tgzv3dWpnhjPaQ%3D%3D&amp;cookie21=W5iHLLyFeYZ1WM9hVnmS&amp;cookie15=URm48syIIVrSKA%3D%3D&amp;existShop=false&amp;pas=0&amp;cookie14=UoTUPOT6s4ShJw%3D%3D&amp;tag=8&amp;lng=zh_CN'</span>,</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">        h = requests.get(url, headers = headers)</span><br><span class="line">        h.raise_for_status()</span><br><span class="line">        h.encoding = h.apparent_encoding</span><br><span class="line">        <span class="comment">#print(h.text)</span></span><br><span class="line">        <span class="keyword">return</span> h.text</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'html解析失败'</span></span><br></pre></td></tr></table></figure><p>修改划线位置，把自己的user-agent和cookie粘贴即可。</p><p><img src="/a4e5e07c/p4.jpg" alt></p><p>至此，若代码没有拼写等低级错误就会成功输出正确信息。</p><p><img src="/a4e5e07c/p5.jpg" alt></p><p>我自己就是因为<u><strong>拼写错误</strong></u>只输出了表头。</p><p><img src="/a4e5e07c/p6.jpg" alt></p><hr><p>另外一个检查错误的技巧就是巧用print（）函数，来检查代码执行到哪里出错，以及是否输出正确信息。我就是通过这个方法一步步查找到<code>plt</code>得到的返回值为零，然后发现<code>price</code>拼写错误了。</p><hr><p>谢谢阅读:happy:</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>各板块透明度设置（无坑版）</title>
      <link href="/undefined.html"/>
      <url>/undefined.html</url>
      
        <content type="html"><![CDATA[<p>在网上找了各种修改透明度的教程，一路踩坑终于调整成功！特此总结防止入坑。</p><a id="more"></a><p>效果预览：<a href="https://zeroflycui.github.io" target="_blank" rel="noopener">https://zeroflycui.github.io</a></p><h1 id="文章主题以及评论区透明度设置"><a href="#文章主题以及评论区透明度设置" class="headerlink" title="文章主题以及评论区透明度设置"></a>文章主题以及评论区透明度设置</h1><p>首先找到此路径  \blog\themes\next\source\css_schemes\Gemini 下的index.styl 文件。</p><img src="/undefined/路径1.jpg" style="zoom:50%;"><p>打开index.styl文件，把 .post-block 下的background后的改为rgba(255,255,255,0.6), 最后的数值是透明度设置，自己调整。</p><img src="/undefined/设置1.jpg" style="zoom:50%;"><p>效果：</p><img src="/undefined/背景透明度2.jpg" style="zoom:50%;"><h1 id="侧边栏透明度设置"><a href="#侧边栏透明度设置" class="headerlink" title="侧边栏透明度设置"></a>侧边栏透明度设置</h1><p>打开以下路径 \blog\themes\next\source\css_schemes\Pisces 下的_sidebar.styl,修改 .sidebar以及.sidebar-inner 下的background：rgba(255,255,255,0.6).如下图所示：</p><img src="/undefined/设置2.jpg" style="zoom:50%;"><p>效果图：</p><img src="/undefined/设置3.jpg" style="zoom:50%;"><hr><p>修改完成，如果有错请通知。谢谢阅读！！</p><p>参考博文链接：</p><p><a href="http://www.aomanhao.top/2019/01/20/theme_NextConfig1/" target="_blank" rel="noopener">http://www.aomanhao.top/2019/01/20/theme_NextConfig1/</a></p><p><a href="https://blog.csdn.net/qq_43414603/article/details/104113198" target="_blank" rel="noopener">https://blog.csdn.net/qq_43414603/article/details/104113198</a></p>]]></content>
      
      
      <categories>
          
          <category> HEXO </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> next </tag>
            
            <tag> 透明度 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
